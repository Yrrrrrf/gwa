# In your Yrrrrrf/gwa repository's cargo-generate.toml (Corrected and Final Version)

[template]
cargo_generate_version = ">=0.18.0"
exclude = [
    # Exclude all binary files to prevent parsing errors.
    "**/*.ico",
    "**/*.png",
    "**/*.jpg",
    # You can also exclude entire directories you never want touched.
    ".github/",
]

# This section tells cargo-generate to run our script BEFORE processing files.
[hooks]
pre = ["pre-hook.rhai"]

# --- Placeholders Section ---
[placeholders]
# General Info
deno_package_name = { type = "string", prompt = "Deno package name (e.g., @user/project)", default = "@gwa/default-project" }
project_name = { type = "string", prompt = "Project name (e.g., my-app)", default = "gwa" }
author_name = { type = "string", prompt = "Author's full name", default = "Fernando Bryan Reza Campos" }
author_email = { type = "string", prompt = "Author's email", default = "fer.rezac@outlook.com" }
app_identifier = { type = "string", prompt = "Application Identifier (e.g., com.company.app)", default = "com.gwa.default-app" }

# Database Config
db_name = { type = "string", prompt = "Database name", default = "gwa" }
db_owner_admin = { type = "string", prompt = "Database owner username", default = "gwa_owner" }
db_owner_pword = { type = "string", prompt = "Database owner password", default = "password", secret = true }
db_host = { type = "string", prompt = "Database host (for .env file)", default = "localhost" }

# Modularity Toggles
include_server = { type = "bool", prompt = "Include the backend server (PostgreSQL + FastAPI)?", default = true }
include_frontend = { type = "bool", prompt = "Include the frontend application (SvelteKit + Tauri)?", default = true }
include_tauri_desktop = { type = "bool", prompt = "Include Tauri for Desktop?", default = true }

# --- Conditional Section ---
[conditional.'include_server == "false"']
ignore = [ "server/", "docker-compose.yml" ]

[conditional.'include_frontend == false"']
ignore = [ "generic-app/" ]

[conditional.'include_tauri_desktop == false"']
ignore = [ "generic-app/src-tauri/" ]